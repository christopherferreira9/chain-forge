# Cargo audit configuration for Chain Forge
# https://github.com/rustsec/rustsec/blob/main/cargo-audit/audit.toml.example

[advisories]
# Ignore advisories for specific issues
ignore = [
    # ed25519-dalek 1.0.1 - Double Public Key Signing Function Oracle Attack
    # REASON: This comes from Solana SDK 2.x which still uses ed25519-dalek 1.x internally.
    # Forcing ed25519-dalek 2.x breaks compatibility with Solana.
    # This will be resolved when Solana SDK updates to ed25519-dalek 2.x.
    # NOT a concern for local development tool - this attack requires specific misuse patterns.
    "RUSTSEC-2022-0093",

    # curve25519-dalek 3.2.0 - Timing variability in Scalar29::sub/Scalar52::sub
    # REASON: Transitive dependency from ed25519-dalek 1.0.1 (see above).
    # Cannot patch to 4.1.3+ without breaking Solana SDK compatibility.
    # Will be resolved when Solana migrates to ed25519-dalek 2.x.
    # Timing attacks are not a concern for local development validator.
    "RUSTSEC-2024-0344",

    # atty 0.2.14 - Potential unaligned read
    # REASON: From Solana's env_logger, used only for terminal detection.
    # Low severity, only affects specific architectures, no security impact for this tool.
    "RUSTSEC-2021-0145",
]

# Ignore unmaintained crates that are transitive dependencies
# These are low-risk for a local development tool
ignore-unmaintained = [
    "atty",           # From Solana's env_logger (used only for terminal detection)
    "bincode",        # From Solana SDK (serialization)
    "derivative",     # From ark-* (Solana's BN254 implementation)
    "number_prefix",  # From indicatif (Solana client progress bars)
    "paste",          # From ark-ff (Solana's BN254 implementation)
    "proc-macro-error", # From tabled_derive (compile-time only, no runtime impact)
]

[database]
# Fetch advisories from RustSec advisory database
url = "https://github.com/RustSec/advisory-db"
